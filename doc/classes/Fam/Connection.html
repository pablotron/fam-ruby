
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<html><head>
  <title>Class: Fam::Connection</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel=StyleSheet href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript" language="JavaScript">
  <!--
  function popCode(url) {
    window.open(url, "Code", 
          "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  //-->
  </script>
</head>

<body bgcolor="white">

<table summary="Information on class" width="100%" border="0" cellspacing="0">
 <tr class="title-row">
 <td class="big-title-font">
   <sup><font color="aqua">Class</font></sup> Fam::Connection
 </td>
 <td align="right">
   <table summary="layout" cellspacing="0" cellpadding="2">
     <tr valign="top">
      <td class="small-title-font">In:</td>
      <td class="small-title-font">
        <a href="../../files/fam_c.html" class="aqua">
fam.c
         </a>
<br />
      </td>
     </tr>
   </table>
  </td>
  </tr>
</table>
  <!-- banner header -->





<table summary="Methods" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Methods</td></tr>
</table>
<div class="name-list">
<a href="#M000016">cancel_monitor</a>&nbsp; &nbsp;
<a href="#M000019">debug_level=</a>&nbsp; &nbsp;
<a href="#M000020">fd</a>&nbsp; &nbsp;
<a href="#M000010">initialize</a>&nbsp; &nbsp;
<a href="#M000013">monitor_collection</a>&nbsp; &nbsp;
<a href="#M000011">monitor_directory</a>&nbsp; &nbsp;
<a href="#M000012">monitor_file</a>&nbsp; &nbsp;
<a href="#M000007">new</a>&nbsp; &nbsp;
<a href="#M000017">next_event</a>&nbsp; &nbsp;
<a href="#M000008">open</a>&nbsp; &nbsp;
<a href="#M000009">open2</a>&nbsp; &nbsp;
<a href="#M000018">pending?</a>&nbsp; &nbsp;
<a href="#M000015">resume_monitor</a>&nbsp; &nbsp;
<a href="#M000014">suspend_monitor</a>&nbsp; &nbsp;
</div>




<table summary="Method list" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Public Class methods</td></tr>
</table>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000007"></a>
<a href="Connection.src/M000007.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000007.html');return false;">
<b>new</b>(int argc, VALUE *argv, VALUE klass)
</a>
</td></tr>
</table>
<div class="description">
<p>
Create a new connection to the FAM daemon.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection.open
  Fam::Connection.open2
</pre>
<p>
Examples:
</p>
<pre>
  # connect and tell FAM the application is named 'foo'
  fam = Fam::Connection.new 'foo'

  # just connect
  fam = Fam::Connection.new
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000008"></a>
<a href="Connection.src/M000008.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000008.html');return false;">
<b>open</b>(int argc, VALUE *argv, VALUE klass)
</a>
</td></tr>
</table>
<div class="description">
<p>
Create a new connection to the FAM daemon.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection.open
  Fam::Connection.open2
</pre>
<p>
Examples:
</p>
<pre>
  # connect and tell FAM the application is named 'foo'
  fam = Fam::Connection.new 'foo'

  # just connect
  fam = Fam::Connection.new
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000009"></a>
<a href="Connection.src/M000009.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000009.html');return false;">
<b>open2</b>(int argc, VALUE *argv, VALUE klass)
</a>
</td></tr>
</table>
<div class="description">
<p>
Create a new connection to the FAM daemon.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection.open
  Fam::Connection.open2
</pre>
<p>
Examples:
</p>
<pre>
  # connect and tell FAM the application is named 'foo'
  fam = Fam::Connection.new 'foo'

  # just connect
  fam = Fam::Connection.new
</pre>
</div>
<table summary="Method list" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Public Instance methods</td></tr>
</table>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000010"></a>
<a href="Connection.src/M000010.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000010.html');return false;">
<b>initialize</b>(VALUE self)
</a>
</td></tr>
</table>
<div class="description">
<p>
Constructor for <a href="Connection.html">Fam::Connection</a> object.
</p>
<p>
This method is currently empty. You should never call this method directly
unless you're instantiating a derived class (ie, you know what you're
doing).
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000011"></a>
<a href="Connection.src/M000011.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000011.html');return false;">
<b>monitor_directory</b>(VALUE self, VALUE dir)
</a>
</td></tr>
</table>
<div class="description">
<p>
Monitor a directory.
</p>
<p>
Returns a <a href="Request.html">Fam::Request</a> object, which is used to
identify the monitor associated with events.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#monitor_dir
  Fam::Connection#directory
  Fam::Connection#dir
</pre>
<p>
Examples:
</p>
<pre>
  req = fam.monitor_directory '/tmp'
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000012"></a>
<a href="Connection.src/M000012.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000012.html');return false;">
<b>monitor_file</b>(VALUE self, VALUE file)
</a>
</td></tr>
</table>
<div class="description">
<p>
Monitor a file.
</p>
<p>
Returns a <a href="Request.html">Fam::Request</a> object, which is used to
identify the monitor associated with events.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#file
</pre>
<p>
Examples:
</p>
<pre>
  req = fam.monitor_file '/var/log/messages'
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000013"></a>
<a href="Connection.src/M000013.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000013.html');return false;">
<b>monitor_collection</b>(VALUE self, VALUE col, VALUE depth, VALUE mask)
</a>
</td></tr>
</table>
<div class="description">
<p>
Monitor a collection.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Collection#monitor_col
  Fam::Collection#col
</pre>
<p>
Examples:
</p>
<pre>
  req = fam.monitor_col 'download/images', 1, '*.jpg'
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000014"></a>
<a href="Connection.src/M000014.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000014.html');return false;">
<b>suspend_monitor</b>(VALUE self, VALUE request)
</a>
</td></tr>
</table>
<div class="description">
<p>
Suspend (stop monitoring) a monitor request.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#suspend
</pre>
<p>
Examples:
</p>
<pre>
  fam.suspend_monitor req
  fam.suspend req
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000015"></a>
<a href="Connection.src/M000015.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000015.html');return false;">
<b>resume_monitor</b>(VALUE self, VALUE request)
</a>
</td></tr>
</table>
<div class="description">
<p>
Resume (start monitoring) a monitor request.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#resume
</pre>
<p>
Examples:
</p>
<pre>
  fam.resume_monitor req
  fam.resume req
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000016"></a>
<a href="Connection.src/M000016.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000016.html');return false;">
<b>cancel_monitor</b>(VALUE self, VALUE request)
</a>
</td></tr>
</table>
<div class="description">
<p>
Cancel a monitor request.
</p>
<p>
Note: this method invalidates the specified monitor request.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#cancel
</pre>
<p>
Examples:
</p>
<pre>
  fam.cancel_monitor req
  fam.cancel req
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000017"></a>
<a href="Connection.src/M000017.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000017.html');return false;">
<b>next_event</b>(VALUE self)
</a>
</td></tr>
</table>
<div class="description">
<p>
Get the next event from the event queue, or block until an event is
available.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#next_ev
  Fam::Connection#ev
</pre>
<p>
Examples:
</p>
<pre>
  ev = fam.next_event
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000018"></a>
<a href="Connection.src/M000018.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000018.html');return false;">
<b>pending?</b>(VALUE self)
</a>
</td></tr>
</table>
<div class="description">
<p>
Are there any events in the queue?
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#pending
</pre>
<p>
Examples:
</p>
<pre>
  puts 'no events pending' unless fam.pending?
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000019"></a>
<a href="Connection.src/M000019.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000019.html');return false;">
<b>debug_level=</b>(VALUE self, VALUE level)
</a>
</td></tr>
</table>
<div class="description">
<p>
Set the debug level of a <a href="Connection.html">Fam::Connection</a>
object.
</p>
<p>
Note: This method is implemented in the bindings, but not in FAM itself.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#debug
</pre>
<p>
Examples:
</p>
<pre>
  fam.debug = Fam::Debug::VERBOSE
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000020"></a>
<a href="Connection.src/M000020.html" target="Code" class="methodtitle"
 onClick="popCode('Connection.src/M000020.html');return false;">
<b>fd</b>(VALUE self)
</a>
</td></tr>
</table>
<div class="description">
<p>
Get the file descriptor of a <a href="Connection.html">Fam::Connection</a>
object.
</p>
<p>
Note: This method allows you to wait for FAM events using select() instead
of polling via Fam::Connection#pending and Fam::Connection#next_event; see
the second example below for more information.
</p>
<p>
Aliases:
</p>
<pre>
  Fam::Connection#get_descriptor
  Fam::Connection#descriptor
  Fam::Connection#get_fd
</pre>
<p>
Examples:
</p>
<pre>
  # simple use
  fd = fam.fd

  # wrap the FAM connection descriptor in an IO object for use in a
  # select() call
  io = IO.new fam.fd, 'r'
  select [io], , , 10
</pre>
</div>

</body>